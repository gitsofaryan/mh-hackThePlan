"use strict";function t(){return(t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function i(t,e,r){return(i=o()?Reflect.construct:function(t,e,r){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return r&&n(i,r.prototype),i}).apply(null,arguments)}function u(t){var e="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return i(t,arguments,r(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),n(o,t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Object.defineProperty(exports,"__esModule",{value:!0});var a=function(t){function r(e){var n;return n=t.call(this,e)||this,Object.setPrototypeOf(c(n),r.prototype),n}return e(r,t),r}(u(TypeError)),s=function(t,e){return new a("Invalid "+t+' input: "'+e+'"')},f=function(t){function r(e){var n;return n=t.call(this,e)||this,Object.setPrototypeOf(c(n),r.prototype),n}return e(r,t),r}(u(ReferenceError)),p=["length","inspect","hasOwnProperty","toJSON","asymmetricMatch","nodeType","$$typeof","constructor","@@__IMMUTABLE_ITERABLE__@@","@@__IMMUTABLE_RECORD__@@","_isMockFunction","then","__esModule"];function l(t,e){var r=Object.freeze?Object.freeze(t):t;return global.Proxy?new Proxy(r,{get:function(t,n){if("string"!=typeof n||p.includes(n))return r[n];if(!r.hasOwnProperty(n)){if(e.hasOwnProperty(n))throw new ReferenceError("[envsafe] Env var "+String(n)+" was accessed but not validated. This var is set in the environment; please add an envsafe validator for it.");throw new ReferenceError('[envsafe] Env var "'+String(n)+'" not found')}return r[n]}}):r}function v(t){for(var e=t.errors,r=[],n=[],o=0,i=Object.keys(e);o<i.length;o++){var u=i[o],c=e[u];c instanceof f?n.push("    "+u+": "+(c.message||"required")):r.push("    "+u+": "+(c.message||"invalid"))}return r.length&&r.unshift("âŒ Invalid environment variables:"),n.length&&n.unshift("ðŸ’¨ Missing environment variables:"),["========================================"].concat(r,n,["========================================"]).join("\n")}function d(t){var e,r=v(t);throw console.error(r),"undefined"!=typeof window&&(null==(e=window)?void 0:e.alert)&&window.alert(r),new TypeError(r)}function h(t){var e=t.env,r=t.validator,n=t.key,o="production"!==e.NODE_ENV,i=r.allowEmpty,u=void 0!==i&&i;function c(t){return u?void 0!==t:void 0!==t&&""!==t}var s=c(r.input)?r.input:e[n];if(o&&!c(s)&&c(r.devDefault)&&(s=r.devDefault),!c(s)&&c(r.default)&&(s=r.default),!c(s)){var p="Missing value";throw r.allowEmpty||(p+=" or empty string"),new f(p)}var l=r._parse(s);if(r.choices&&!r.choices.includes(l))throw new a('Value "'+l+'" not in choices ['+r.choices+"]");return l}var y=/^[^@\s]+@[^@\s]+\.[^@\s]+$/;function w(e){return function(r){return void 0===r&&(r={}),t({},r,{_parse:e})}}var O=w((function(t){switch(t){case!0:case"true":case"t":case"1":return!0;case!1:case"false":case"f":case"0":return!1;default:throw s("str",t)}})),b=w((function(t){if("string"!=typeof t)throw s("str",t);return t})),_=w((function(t){if(!y.test(t))throw s("email",t);return t})),g=w((function(t){var e=+t;if(Number.isNaN(e))throw s("num",t);return e})),E=w((function(t){var e=+t;if(Number.isNaN(e)||""+e!=""+t||e%1!=0||e<1||e>65535)throw s("port",t);return e})),x=w((function(t){try{return new URL(t),t}catch(e){throw s("url",t)}})),m=w((function(t){try{return"string"!=typeof t?t:JSON.parse(t)}catch(e){throw s("json",t)}}));exports.InvalidEnvError=a,exports.MissingEnvError=f,exports.bool=O,exports.defaultReporter=d,exports.defaultReporterText=v,exports.email=_,exports.envsafe=function(t,e){var r=void 0===e?{}:e,n=r.reporter,o=void 0===n?d:n,i=r.env,u=void 0===i?process.env:i,c=r.strict,a=void 0!==c&&c,s={},f={};for(var p in t){var v=t[p];try{var y=h({env:u,validator:v,key:p});f[p]=y}catch(t){s[p]=t}}return Object.keys(s).length&&o({errors:s,output:f,env:u}),a?l(f,u):f},exports.freezeObject=l,exports.invalidEnvError=s,exports.json=m,exports.makeValidator=w,exports.num=g,exports.port=E,exports.str=b,exports.url=x;
//# sourceMappingURL=envsafe.cjs.production.min.js.map
